{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = 'http://localhost:8000';\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Add token to requests if available\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// Handle 401 errors (unauthorized)\napi.interceptors.response.use(response => response, error => {\n  if (error.response && error.response.status === 401) {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\n\n// Auth APIs\nexport const register = userData => api.post('/auth/register', userData);\nexport const login = credentials => api.post('/auth/login', credentials);\nexport const getMe = () => api.get('/auth/me');\n\n// Plagiarism APIs\nexport const checkPlagiarism = data => api.post('/plagiarism/check', data);\nexport const uploadFiles = formData => {\n  return api.post('/plagiarism/upload', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n};\n\n// History APIs\nexport const getMyHistory = () => api.get('/history/my-history');\nexport const getAllHistory = () => api.get('/history/all');\nexport const deleteHistory = historyId => api.delete(`/history/${historyId}`);\nexport const clearMyHistory = () => api.delete('/history/clear/my-history');\n\n// Admin APIs\nexport const getAllUsers = () => api.get('/admin/users');\nexport const deleteUser = userId => api.delete(`/admin/users/${userId}`);\nexport const toggleAdminStatus = userId => api.patch(`/admin/users/${userId}/toggle-admin`);\nexport const getStats = () => api.get('/admin/stats');\n// Add these new functions at the end of the file\n\n// History Search APIs\nexport const searchInHistory = data => api.post('/history/search-history', data);\nexport const searchInAllHistory = data => api.post('/history/search-all-history', data);\n\n// Add this function to api.js\nexport const checkGoogleOnly = data => api.post('/plagiarism/check-google-only', data);\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","response","status","removeItem","window","location","href","register","userData","post","login","credentials","getMe","get","checkPlagiarism","data","uploadFiles","formData","getMyHistory","getAllHistory","deleteHistory","historyId","delete","clearMyHistory","getAllUsers","deleteUser","userId","toggleAdminStatus","patch","getStats","searchInHistory","searchInAllHistory","checkGoogleOnly"],"sources":["C:/Users/kumar/Downloads/P/fastapi_mongo/frontend/src/api/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = 'http://localhost:8000';\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Add token to requests if available\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Handle 401 errors (unauthorized)\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response && error.response.status === 401) {\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n      window.location.href = '/login';\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Auth APIs\r\nexport const register = (userData) => api.post('/auth/register', userData);\r\nexport const login = (credentials) => api.post('/auth/login', credentials);\r\nexport const getMe = () => api.get('/auth/me');\r\n\r\n// Plagiarism APIs\r\nexport const checkPlagiarism = (data) => api.post('/plagiarism/check', data);\r\nexport const uploadFiles = (formData) => {\r\n  return api.post('/plagiarism/upload', formData, {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data',\r\n    },\r\n  });\r\n};\r\n\r\n// History APIs\r\nexport const getMyHistory = () => api.get('/history/my-history');\r\nexport const getAllHistory = () => api.get('/history/all');\r\nexport const deleteHistory = (historyId) => api.delete(`/history/${historyId}`);\r\nexport const clearMyHistory = () => api.delete('/history/clear/my-history');\r\n\r\n// Admin APIs\r\nexport const getAllUsers = () => api.get('/admin/users');\r\nexport const deleteUser = (userId) => api.delete(`/admin/users/${userId}`);\r\nexport const toggleAdminStatus = (userId) => api.patch(`/admin/users/${userId}/toggle-admin`);\r\nexport const getStats = () => api.get('/admin/stats');\r\n// Add these new functions at the end of the file\r\n\r\n// History Search APIs\r\nexport const searchInHistory = (data) => api.post('/history/search-history', data);\r\nexport const searchInAllHistory = (data) => api.post('/history/search-all-history', data);\r\n\r\n// Add this function to api.js\r\nexport const checkGoogleOnly = (data) => api.post('/plagiarism/check-google-only', data);\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}