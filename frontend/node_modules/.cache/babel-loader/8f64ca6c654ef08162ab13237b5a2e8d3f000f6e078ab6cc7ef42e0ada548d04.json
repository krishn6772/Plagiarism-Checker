{"ast":null,"code":"import React,{useState}from'react';import'./HistoryTable.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function HistoryTable(_ref){let{history,onDelete,showUserId=false}=_ref;const[expandedRow,setExpandedRow]=useState(null);const toggleRow=id=>{setExpandedRow(expandedRow===id?null:id);};const getSimilarityColor=score=>{if(score>=80)return'#dc3545';if(score>=50)return'#ffc107';return'#28a745';};const truncateText=function(text){let maxLength=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;if(text.length<=maxLength)return text;return text.substring(0,maxLength)+'...';};if(history.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDCCB No history records found\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"history-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"data-table history-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date & Time\"}),showUserId&&/*#__PURE__*/_jsx(\"th\",{children:\"User ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Text Preview\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Similarity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Google Check\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:history.map(record=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:new Date(record.timestamp).toLocaleString()}),showUserId&&/*#__PURE__*/_jsxs(\"td\",{className:\"text-monospace\",children:[record.user_id.substring(0,8),\"...\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-preview\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Text 1:\"}),\" \",truncateText(record.text1),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Text 2:\"}),\" \",truncateText(record.text2)]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleRow(record.id),className:\"btn-link\",children:expandedRow===record.id?'Show Less':'Show More'})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"similarity-badge\",style:{backgroundColor:getSimilarityColor(record.similarity_score),color:'white'},children:[record.similarity_score,\"%\"]})}),/*#__PURE__*/_jsx(\"td\",{children:record.google_similarity!==null?/*#__PURE__*/_jsxs(\"span\",{className:\"similarity-badge\",style:{backgroundColor:getSimilarityColor(record.google_similarity),color:'white'},children:[record.google_similarity,\"%\"]}):/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"N/A\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDelete(record.id),className:\"btn-sm btn-danger\",children:\"Delete\"})})]}),expandedRow===record.id&&/*#__PURE__*/_jsx(\"tr\",{className:\"expanded-row\",children:/*#__PURE__*/_jsx(\"td\",{colSpan:showUserId?6:5,children:/*#__PURE__*/_jsx(\"div\",{className:\"expanded-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Text 1 (Full):\"}),/*#__PURE__*/_jsx(\"pre\",{children:record.text1})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Text 2 (Full):\"}),/*#__PURE__*/_jsx(\"pre\",{children:record.text2})]})]})})})})]},record.id))})]})});}export default HistoryTable;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","HistoryTable","_ref","history","onDelete","showUserId","expandedRow","setExpandedRow","toggleRow","id","getSimilarityColor","score","truncateText","text","maxLength","arguments","length","undefined","substring","className","children","map","record","Fragment","Date","timestamp","toLocaleString","user_id","text1","text2","onClick","style","backgroundColor","similarity_score","color","google_similarity","colSpan"],"sources":["C:/Users/kumar/Downloads/P/fastapi_mongo/frontend/src/components/HistoryTable.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './HistoryTable.css';\r\n\r\nfunction HistoryTable({ history, onDelete, showUserId = false }) {\r\n  const [expandedRow, setExpandedRow] = useState(null);\r\n\r\n  const toggleRow = (id) => {\r\n    setExpandedRow(expandedRow === id ? null : id);\r\n  };\r\n\r\n  const getSimilarityColor = (score) => {\r\n    if (score >= 80) return '#dc3545';\r\n    if (score >= 50) return '#ffc107';\r\n    return '#28a745';\r\n  };\r\n\r\n  const truncateText = (text, maxLength = 100) => {\r\n    if (text.length <= maxLength) return text;\r\n    return text.substring(0, maxLength) + '...';\r\n  };\r\n\r\n  if (history.length === 0) {\r\n    return (\r\n      <div className=\"empty-state\">\r\n        <p>ðŸ“‹ No history records found</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"history-table-container\">\r\n      <table className=\"data-table history-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Date & Time</th>\r\n            {showUserId && <th>User ID</th>}\r\n            <th>Text Preview</th>\r\n            <th>Similarity</th>\r\n            <th>Google Check</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {history.map((record) => (\r\n            <React.Fragment key={record.id}>\r\n              <tr>\r\n                <td>{new Date(record.timestamp).toLocaleString()}</td>\r\n                {showUserId && <td className=\"text-monospace\">{record.user_id.substring(0, 8)}...</td>}\r\n                <td>\r\n                  <div className=\"text-preview\">\r\n                    <strong>Text 1:</strong> {truncateText(record.text1)}\r\n                    <br />\r\n                    <strong>Text 2:</strong> {truncateText(record.text2)}\r\n                  </div>\r\n                  <button onClick={() => toggleRow(record.id)} className=\"btn-link\">\r\n                    {expandedRow === record.id ? 'Show Less' : 'Show More'}\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  <span\r\n                    className=\"similarity-badge\"\r\n                    style={{\r\n                      backgroundColor: getSimilarityColor(record.similarity_score),\r\n                      color: 'white',\r\n                    }}\r\n                  >\r\n                    {record.similarity_score}%\r\n                  </span>\r\n                </td>\r\n                <td>\r\n                  {record.google_similarity !== null ? (\r\n                    <span\r\n                      className=\"similarity-badge\"\r\n                      style={{\r\n                        backgroundColor: getSimilarityColor(record.google_similarity),\r\n                        color: 'white',\r\n                      }}\r\n                    >\r\n                      {record.google_similarity}%\r\n                    </span>\r\n                  ) : (\r\n                    <span className=\"text-muted\">N/A</span>\r\n                  )}\r\n                </td>\r\n                <td>\r\n                  <button onClick={() => onDelete(record.id)} className=\"btn-sm btn-danger\">\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n              {expandedRow === record.id && (\r\n                <tr className=\"expanded-row\">\r\n                  <td colSpan={showUserId ? 6 : 5}>\r\n                    <div className=\"expanded-content\">\r\n                      <div className=\"text-full\">\r\n                        <div className=\"text-section\">\r\n                          <h4>Text 1 (Full):</h4>\r\n                          <pre>{record.text1}</pre>\r\n                        </div>\r\n                        <div className=\"text-section\">\r\n                          <h4>Text 2 (Full):</h4>\r\n                          <pre>{record.text2}</pre>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </React.Fragment>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HistoryTable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}